<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin | Create Lead Group</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { font-family: sans-serif; background: #f4f7f6; padding: 40px; }
        .admin-box { max-width: 500px; background: white; padding: 30px; border-radius: 15px; margin: auto; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        input, textarea { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        textarea { height: 150px; resize: none; }
        button { width: 100%; padding: 15px; background: #1e293b; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; }
    </style>
</head>
<body>

<div class="admin-box">
    <h2>Create Lead Group</h2>
    <p>Lead ID (e.g., 5566)</p>
    <input type="text" id="groupId" placeholder="Enter Group ID">
    
    <p>Paste 10 Numbers (One per line)</p>
    <textarea id="numberList" placeholder="9876543210&#10;8877665544&#10;..."></textarea>
    
    <button onclick="saveGroupLeads()">Upload Leads to this ID</button>
</div>

<script>
    const firebaseConfig = { databaseURL: "https://data-claim-69ed0-default-rtdb.firebaseio.com/" };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    function saveGroupLeads() {
        const id = document.getElementById('groupId').value.trim();
        const numbersText = document.getElementById('numberList').value.trim();
        
        if(!id || !numbersText) return alert("ID aur Numbers dono bharna zaroori hai!");

        // Numbers ko array mein convert karna
        const numbersArray = numbersText.split('\n').map(n => n.trim()).filter(n => n !== "");

        database.ref('lead_groups/' + id).set({
            leads: numbersArray,
            createdAt: new Date().toLocaleString()
        }).then(() => {
            alert("Lead ID " + id + " create ho gayi hai!");
            document.getElementById('groupId').value = "";
            document.getElementById('numberList').value = "";
        });
    }
</script>
</body>
</html>
